#:import r src.utils.responsive
<CameraScanScreen>:
    ResponsiveContainer:
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: rgba('#bfc6e0')
            Rectangle:
                pos: self.pos
                size: self.size
        AppHeader:
            id: app_header
            title: "Camera Scan (Pilot)"
        ContentScroll:
            MDBoxLayout:
                orientation: "vertical"
                size_hint_y: None
                height: self.minimum_height
                ContentSection:
                    SectionHeader:
                        text: "Camera Scanner"
                    ContentCard:
                        MDBoxLayout:
                            id: camera_container
                            orientation: "vertical"
                            size_hint_y: None
                            height: r.scale_dp(240)
                            padding: [SP_MD, SP_MD]
                            spacing: SP_SM
                            MDLabel:
                                text: "Initializing camera..."
                                text_size: self.width, None
                                theme_text_color: "Custom"
                                text_color: CAL_TEXT_DARK
                ContentSection:
                    SectionHeader:
                        text: "Result"
                    ContentCard:
                        MDBoxLayout:
                            orientation: "vertical"
                            padding: [SP_MD, SP_MD]
                            spacing: SP_SM
                            MDLabel:
                                id: result_label
                                text: root.result_text if root.result_text else "Awaiting scan..."
                                shorten: True
                                shorten_from: "right"
                                theme_text_color: "Custom"
                                text_color: CAL_TEXT_DARK
                            MDButton:
                                text: "Record to CalorieDB"
                                on_release: root.record_to_caloriedb()
        PrimaryBottomBar:
