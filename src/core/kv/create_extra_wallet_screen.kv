#:import r src.utils.responsive
<CreateExtraWalletScreen>
    ResponsiveContainer:

    MDBoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: rgba('#bfc6e0')
            Rectangle:
                pos: self.pos
                size: self.size
        MDBoxLayout:
            size_hint: (1, None)
            height: "56dp"
            orientation: "horizontal"
            padding: ["8dp", "8dp"]
            spacing: "8dp"
            canvas.before:
                Color:
                    rgba: rgba('#505CA9')
                Rectangle:
                    pos: self.pos
                    size: self.size
            MDLabel:
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
                size_hint: (None, None)
                size: ("44dp", "44dp")
            MDLabel:
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
                text: "Create Extra Wallet"
                theme_text_color: "Custom"
                text_color: rgba('#ffffff')
                halign: 'center'
                valign: 'center'
                font_size: '18sp'
                size_hint_x: 1
            MDCard:
                size_hint: (None, None)
                size: ("40dp", "40dp")
                radius: [20,]
                md_bg_color: rgba('#e8ebf5')
                elevation: 0
                padding: "4dp"
                pos_hint: {"center_y": 0.5}
                Image:
                    source: 'assets/images/CalorieLogoTranspa.png'
                    size_hint: (1, 1)
                    mipmap: True
        MDGridLayout:
            cols: 1
            size_hint: (1, .75)

            MDLabel:
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
                text: "Generate your XRPL wallet"
                font_style: "Title"
                halign: "center"
                theme_text_color: "Custom"
                text_color: rgba('#202443')
            MDBoxLayout:
                orientation: "horizontal"
                MDLabel:
                    text_size: self.width, None
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Public key:"
                    font_style: "Body"
                    size_hint_x: 0.2
                MDTextField:
                    mode: "filled"
                    line_color_focus: rgba('#008D36')
                    hint_text_color_focus: rgba('#008D36')
                    fill_color_normal: rgba('#dadeed')
                    fill_color_focus: rgba('#e9ebf5')
                    id: public_key
                    hint_text: "Generated public key will appear here"
                    helper_text: "Your XRPL public address (safe to share)"
                    helper_text_mode: "on_focus"
                    font_style: "Body"
                    halign: "center"
                    size_hint_x: 0.8
            MDBoxLayout:
                orientation: "horizontal"
                MDLabel:
                    text_size: self.width, None
                    size_hint_y: None
                    height: self.texture_size[1]
                    text: "Private key:"
                    font_style: "Body"
                    size_hint_x: 0.2
                MDTextField:
                    mode: "filled"
                    line_color_focus: rgba('#008D36')
                    hint_text_color_focus: rgba('#008D36')
                    fill_color_normal: rgba('#dadeed')
                    fill_color_focus: rgba('#e9ebf5')
                    id: private_key
                    hint_text: "Generated private key (keep secure!)"
                    helper_text: "Never share this key - it controls your funds"
                    helper_text_mode: "on_focus"
                    font_style: "Body"
                    size_hint_x: 0.8

            MDLabel:
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
            MDGridLayout:
                cols: 3
                size_hint: (1, .2)

                MDLabel:
                    text_size: self.width, None
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint: (4, 1)
                MDButton:
                    style: "filled"
                    size_hint: (None, None)
                    width: r.scale_dp(BTN_W_XL)
                    height: r.scale_dp(52)
                    radius: [24]
                    md_bg_color: rgba('#505CA9')
                    on_release: root.generate_keys()
                    MDButtonIcon:
                        icon: "wallet-plus"
                        icon_color: rgba('#f9b233')
                    MDButtonText:
                        text: "Generate keys"
                        text_color: rgba('#008D36')
                MDLabel:
                    text_size: self.width, None
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint: (4, 1)

            MDLabel:
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]

            MDGridLayout:
                cols: 3
                size_hint: (1, .2)

                MDLabel:
                    text_size: self.width, None
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint: (4, 1)
                MDButton:
                    style: "filled"
                    size_hint: (None, None)
                    width: dp(BTN_W_XL)
                    height: "52dp"
                    radius: [24]
                    md_bg_color: rgba('#505CA9')
                    on_release: root.store_keys()
                    MDButtonIcon:
                        icon: "lock-check"
                        icon_color: rgba('#f9b233')
                    MDButtonText:
                        text: "Store keys"
                        text_color: rgba('#008D36')
                MDLabel:
                    text_size: self.width, None
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint: (4, 1)
            MDLabel:
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
                size_hint: (1, .29)
            MDLabel:
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
                id: invalid_keys
                font_style: "Body"
                halign: "center"
                theme_text_color: "Primary"
            MDLabel:
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
        # Bottom navigation bar
        MDGridLayout:
            cols: 3
            size_hint: (1, .08)
            canvas.before:
                Color:
                    rgba: rgba('#505CA9')
                Rectangle:
                    pos: self.pos
                    size: self.size

            MDIconButton:
                theme_icon_size: "Custom"
                icon_size: "24sp"
                theme_icon_color: "Custom"
                icon_color: rgba('#008D36')
                size_hint: (.15, 1)
                pos_hint: {"center_y": .5}
                on_press: root.back_to_createimportwallet()
                canvas.before:
                    Color:
                        rgba: rgba('#bfc6e0')
                    RoundedRectangle:
                        pos: self.pos[0] + dp(5), self.pos[1] + dp(5)
                        size: self.size[0] - dp(10), self.size[1] - dp(10)
                        radius: [dp(8)]
                MDButtonIcon:
                    icon: "arrow-left"
            MDLabel:
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1]
                size_hint: (.85, 1)

